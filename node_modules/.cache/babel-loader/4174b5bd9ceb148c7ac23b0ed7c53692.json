{"ast":null,"code":"var _jsxFileName = \"/mnt/1E6AFBDE6AFBB09F/Informatique/MyWebProject/ClinicManagement/reactjs-login/src/components/auth/Login.js\";\nimport React, { Component } from \"react\";\nimport axios from 'axios';\n\nclass Login extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      email: \"\",\n      password: \"\",\n      loginErrors: \"\"\n    };\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n  }\n\n  handleSubmit(event) {\n    const {\n      email,\n      password\n    } = this.state;\n    axios.get('http://127.0.0.1:8000/sanctum/csrf-cookie').then(response => {\n      axios.post(\"http://127.0.0.1:8000/api/login\", {\n        email: email,\n        password: password\n      }, {\n        withCredentials: true\n      }).then(response => {\n        if (response.data.logged_in) {\n          this.props.handleSuccessfulAuth(response.data);\n        }\n\n        console.log(\"Login res\", response);\n      }).catch(error => {\n        console.log(\"Login error\", error);\n      });\n    });\n    event.preventDefault();\n  }\n\n  handleChange(event) {\n    console.log(\"handelChange\");\n    this.setState({\n      [event.target.name]: event.target.value\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"email\",\n      name: \"email\",\n      placeholder: \"Email\",\n      value: this.state.email,\n      onChange: this.handleChange,\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"password\",\n      name: \"password\",\n      placeholder: \"password\",\n      value: this.state.password,\n      onChange: this.handleChange,\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      onClick: this.onSubmit,\n      className: \"btn btn-primary account-btn\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 21\n      }\n    }, \"Login\")));\n  }\n\n}\n\nexport default Login;\n;","map":{"version":3,"sources":["/mnt/1E6AFBDE6AFBB09F/Informatique/MyWebProject/ClinicManagement/reactjs-login/src/components/auth/Login.js"],"names":["React","Component","axios","Login","constructor","props","state","email","password","loginErrors","handleSubmit","bind","handleChange","event","get","then","response","post","withCredentials","data","logged_in","handleSuccessfulAuth","console","log","catch","error","preventDefault","setState","target","name","value","render","onSubmit"],"mappings":";AACA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AAEA,MAAMC,KAAN,SAAoBF,SAApB,CAA6B;AACzBG,EAAAA,WAAW,CAACC,KAAD,EAAO;AACd,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAa;AACTC,MAAAA,KAAK,EAAE,EADE;AAETC,MAAAA,QAAQ,EAAE,EAFD;AAGTC,MAAAA,WAAW,EAAE;AAHJ,KAAb;AAKA,SAAKC,YAAL,GAAoB,KAAKA,YAAL,CAAkBC,IAAlB,CAAuB,IAAvB,CAApB;AACA,SAAKC,YAAL,GAAoB,KAAKA,YAAL,CAAkBD,IAAlB,CAAuB,IAAvB,CAApB;AACH;;AACDD,EAAAA,YAAY,CAACG,KAAD,EAAO;AAGf,UAAM;AAACN,MAAAA,KAAD;AAAQC,MAAAA;AAAR,QAAoB,KAAKF,KAA/B;AACAJ,IAAAA,KAAK,CAACY,GAAN,CAAU,2CAAV,EAAuDC,IAAvD,CAA4DC,QAAQ,IAAI;AACpEd,MAAAA,KAAK,CAACe,IAAN,CAAW,iCAAX,EACY;AACAV,QAAAA,KAAK,EAAEA,KADP;AAEAC,QAAAA,QAAQ,EAAEA;AAFV,OADZ,EAKY;AAACU,QAAAA,eAAe,EAAG;AAAnB,OALZ,EAMEH,IANF,CAOIC,QAAQ,IAAE;AACN,YAAGA,QAAQ,CAACG,IAAT,CAAcC,SAAjB,EAA2B;AACvB,eAAKf,KAAL,CAAWgB,oBAAX,CAAgCL,QAAQ,CAACG,IAAzC;AACH;;AACDG,QAAAA,OAAO,CAACC,GAAR,CAAY,WAAZ,EAAyBP,QAAzB;AACP,OAZD,EAYGQ,KAZH,CAYSC,KAAK,IAAE;AACZH,QAAAA,OAAO,CAACC,GAAR,CAAY,aAAZ,EAA2BE,KAA3B;AACH,OAdD;AAeH,KAhBD;AAkBAZ,IAAAA,KAAK,CAACa,cAAN;AACH;;AACDd,EAAAA,YAAY,CAACC,KAAD,EAAO;AACfS,IAAAA,OAAO,CAACC,GAAR,CAAY,cAAZ;AACA,SAAKI,QAAL,CAAc;AAAC,OAACd,KAAK,CAACe,MAAN,CAAaC,IAAd,GAAoBhB,KAAK,CAACe,MAAN,CAAaE;AAAlC,KAAd;AACH;;AACDC,EAAAA,MAAM,GAAE;AACJ,wBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAM,MAAA,QAAQ,EAAE,KAAKrB,YAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAO,MAAA,IAAI,EAAC,OAAZ;AAAoB,MAAA,IAAI,EAAC,OAAzB;AAAiC,MAAA,WAAW,EAAC,OAA7C;AAAqD,MAAA,KAAK,EAAE,KAAKJ,KAAL,CAAWC,KAAvE;AAA8E,MAAA,QAAQ,EAAE,KAAKK,YAA7F;AAA2G,MAAA,QAAQ,MAAnH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,eAEI;AAAO,MAAA,IAAI,EAAC,UAAZ;AAAuB,MAAA,IAAI,EAAC,UAA5B;AAAuC,MAAA,WAAW,EAAC,UAAnD;AAA8D,MAAA,KAAK,EAAE,KAAKN,KAAL,CAAWE,QAAhF;AAA0F,MAAA,QAAQ,EAAE,KAAKI,YAAzG;AAAwH,MAAA,QAAQ,MAAhI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFJ,eAGI;AAAQ,MAAA,IAAI,EAAC,QAAb;AAAsB,MAAA,OAAO,EAAE,KAAKoB,QAApC;AAA8C,MAAA,SAAS,EAAC,6BAAxD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAHJ,CADJ,CADJ;AASH;;AAjDwB;;AAoD7B,eAAe7B,KAAf;AACA","sourcesContent":["\nimport React, { Component } from \"react\";\nimport axios from 'axios';\n\nclass Login extends Component{\n    constructor(props){\n        super(props);\n        this.state = {\n            email: \"\",\n            password: \"\",\n            loginErrors: \"\"\n        };\n        this.handleSubmit = this.handleSubmit.bind(this);\n        this.handleChange = this.handleChange.bind(this);\n    }\n    handleSubmit(event){      \n        \n        \n        const {email, password} = this.state;\n        axios.get('http://127.0.0.1:8000/sanctum/csrf-cookie').then(response => {\n            axios.post(\"http://127.0.0.1:8000/api/login\",\n                        {\n                        email: email,\n                        password: password\n                        },\n                        {withCredentials : true}\n            ).then(\n                response=>{\n                    if(response.data.logged_in){\n                        this.props.handleSuccessfulAuth(response.data);\n                    }\n                    console.log(\"Login res\", response);\n            }).catch(error=>{\n                console.log(\"Login error\", error);\n            });\n        });\n        \n        event.preventDefault();\n    }\n    handleChange(event){\n        console.log(\"handelChange\");\n        this.setState({[event.target.name]:event.target.value});\n    }\n    render(){\n        return(\n            <div>\n                <form onSubmit={this.handleSubmit}>\n                    <input type=\"email\" name=\"email\" placeholder=\"Email\" value={this.state.email} onChange={this.handleChange} required/>\n                    <input type=\"password\" name=\"password\" placeholder=\"password\" value={this.state.password} onChange={this.handleChange}  required />\n                    <button type=\"submit\" onClick={this.onSubmit} className=\"btn btn-primary account-btn\">Login</button>\n                </form>\n            </div>\n        );\n    }\n}\n\nexport default Login;\n;"]},"metadata":{},"sourceType":"module"}